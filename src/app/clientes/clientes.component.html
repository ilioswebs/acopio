<div *ngIf="!mostrarFormulario">
  <button (click)="toggleFormulario()">Crear Cliente</button> 
  <table>
    <tr>
      <th>NOMBRE</th>
      <th>DNI</th>
      <th>TELEFONO</th>
      <th>REGION</th>
      <th>DIRECCION</th>
      <th>NOMBRE DE CONTACTO</th>
      <th>TELEFONO CONTACTO</th>
      <th>FECHA DE LA ULTIMA VISITA</th>
      <th>INTERVALO VISTAS</th>
      <th>ESTADO</th>
      <th>ACCIONES</th>
    </tr>
    <tr *ngFor="let cliente of clientes">
      <td>{{ cliente.Nombre }}</td>
      <td>{{ cliente.Dni }}</td>
      <td>{{ cliente.Telefono }}</td>
      <td>{{ cliente.Region }}</td>
      <td>{{ cliente.Direccion }}</td>
      <td>{{ cliente.Nombre_contacto }}</td>
      <td>{{ cliente.Telefono_contacto }}</td>
      <td>{{ cliente.Fecha_ultima_visita }}</td>
      <td>{{ cliente.Intervalo_de_visita }}</td>
      <td>{{ cliente.Estado }}</td>
      <td>
        <button (click)="seleccionarCliente(cliente)" class="btn-editar">Editar</button>
        <button (click)="eliminarCliente(cliente.id_cliente)" class="btn-eliminar">Eliminar</button>
      </td>
    </tr>
  </table>
</div>

<div *ngIf="mostrarFormulario" class="formulario-container">
  <form class="formulario" (submit)="modoEdicion ? actualizarCliente() : crearCliente()">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" [(ngModel)]="nuevoCliente.Email" required>
    <br>

    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" [(ngModel)]="nuevoCliente.Nombre" required>
    <br>

    <label for="dni">DNI:</label>
    <input type="text" id="dni" name="dni" [(ngModel)]="nuevoCliente.Dni" required>
    <br>

    <label for="telefono">Teléfono:</label>
    <input type="tel" id="telefono" name="telefono" [(ngModel)]="nuevoCliente.Telefono" required>
    <br>

    <label for="codigoPostal">Código Postal:</label>
    <input type="text" id="codigoPostal" name="codigoPostal" [(ngModel)]="nuevoCliente.Codigo_postal" required>
    <br>

    <label for="region">Región:</label>
    <input type="text" id="region" name="region" [(ngModel)]="nuevoCliente.Region" required>
    <br>

    <label for="direccion">Dirección:</label>
    <input type="text" id="direccion" name="direccion" [(ngModel)]="nuevoCliente.Direccion" required>
    <br>

    <label for="nombreContacto">Nombre de Contacto:</label>
    <input type="text" id="nombreContacto" name="nombreContacto" [(ngModel)]="nuevoCliente.Nombre_contacto" required>
    <br>

    <label for="telefonoContacto">Teléfono de Contacto:</label>
    <input type="tel" id="telefonoContacto" name="telefonoContacto" [(ngModel)]="nuevoCliente.Telefono_contacto" required>
    <br>

    <label for="fechaUltimaVisita">Fecha de Última Visita:</label>
    <input type="date" id="fechaUltimaVisita" name="fechaUltimaVisita" [(ngModel)]="nuevoCliente.Fecha_ultima_visita" required>
    <br>

    <label for="intervaloVisitas">Intervalo de Visitas:</label>
    <input type="number" id="intervaloVisitas" name="intervaloVisitas" [(ngModel)]="nuevoCliente.Intervalo_de_visita" required>
    <br>

    <label for="latitud">Latitud:</label>
    <input type="number" id="latitud" name="latitud" [(ngModel)]="nuevoCliente.Latitud" required>
    <br>

    <label for="longitud">Longitud:</label>
    <input type="number" id="longitud" name="longitud" [(ngModel)]="nuevoCliente.Longitud" required>
    <br>
    
    <label for="estado">Estado:</label>
    <input type="number" id="estado" name="estado" [(ngModel)]="nuevoCliente.Estado" required>
    <br>

<form (submit)="modoEdicion ? actualizarCliente() : crearCliente()">
  <button type="submit" class="btn-actualizar">{{ modoEdicion ? 'Actualizar Cliente' : 'Crear Cliente' }}</button>
  <button type="button" (click)="cerrarFormulario()" class="btn-cancelar">Cancelar</button>
</form>
